<!-- CardsOrder -->
<div class="card text-center m-3" *ngIf="data">
  <div class="card-header">
      <img src="../../../../assets/{{data.status}}.png" alt="" width="30"> Pedido N° {{ data.id }}
  </div>
  <div class="card-body">
    <p><strong>Total productos: {{data.totalQty}}</strong> </p>
    <ul class="mx-1 p-0">
      <li *ngFor="let order of data.products | slice:0:2" class="text-center" style="list-style-type: none;">
        {{ order.qty }} {{ order.name }}
      </li>
    </ul>
      <button class="btn btn-sm btn-more mt-2" (click)="open(content)">Ver Más</button>
      <br>
      <button class="btn btn-{{data.status}} mt-2" type="button" (click)="changeStatusToDelivering()" *ngIf="data.status =='pending'">
        Recibir pedido
      </button>
      <button class="btn btn-{{data.status}} mt-2" type="button" (click)="changeStatusToDone()" *ngIf="data.status =='delivering'">
        Preparado
      </button>
      <ng-template #content let-modal class="custom-class">

          <div class="modal-header">
            <h5 class="modal-title" id="modal-basic-title">Pedido N° {{ data.id }} : {{ data?.client }}</h5>

          </div>
          <div class="modal-body">
            <p>Total productos: {{data.totalQty}}</p>
            <ul *ngFor="let product of data.products">
              <li style="text-align: left; list-style-type: none">
                {{ product.qty }}  {{ product.name }}
              </li>
            </ul>
            <hr>
            <p>Adicionales: {{data.additional}}</p>
            <hr>
            <div class="mt-2 mx-4 text-left text-beige">
              <p>Mesero: {{ data?.userName }}</p>
              <p>Mesa N°: {{ data.numberTable }}</p>
              <p>Creación de pedido: <span>{{cutNameProduct(data.dateEntry)}}</span></p>
              <p>Inicio de preparación:: {{cutNameProduct(data.dateDelivering)}}</p>
              <p>Fin de preparación: {{cutNameProduct(data.dateDone)}}</p>
              <p>Tiempo de preparación: {{data.timeResult}}</p>
              <p>Entrega de pedido: {{cutNameProduct(data.dateProcessed)}}</p>
            </div>
          </div>
          <div class="modal-footer d-flex justify-content-center">
            <button type="button" class="btn btn-warning" (click)="modal.close('return')">Volver a pedidos</button>
          </div>


      </ng-template>
  </div>
  <div class="card-footer text-muted">
    {{ dateOrder }}
  </div>
</div>

